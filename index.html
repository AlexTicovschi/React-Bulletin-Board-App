<!DOCTYPE html>
<html>

<head>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.6.1/react.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.6.1/react-dom.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.js"></script>
	<link rel="stylesheet" href="style.css">
	<title>Building the Note Board</title>
</head>
<body>

	<div id="container"></div>
	<script type="text/babel">
		var Note = React.createClass({
			getInitialState() {
				return {editing: false}
			},
			// Every time the edit method is called, set the state to true.
			edit() {
				this.setState({editing: true})
			},
			// Save is going to be that button on the form that changes the editing state back to false, and displays the note.
			save() {
				// grabs the value inside the textarea element
				var val =  this.refs.newText.value;
				alert("Later will save this value: " + val);
				this.setState({editing: false})
			},
			remove() {
				alert("Removing Note");
			},
			// renders the form
			renderForm() {
				return (
					<div className="note">
						// add a new reference to the textarea 
						<textarea ref="newText"></textarea>
						<button onClick={this.save}>SAVE</button>
					</div>
				)
			},
			// renders the display
			renderDisplay() {
				return (
					<div className="note">
						<p>{this.props.children}</p>
						<span>
							<button onClick={this.edit}>EDIT</button>
							<button onClick={this.remove}>X</button>
						</span>
					</div>
				)
			},
			// the render method is going to take care of the logic that decides which RENDER METHOD should be displayed
			render() {
				// if editing is true, render the form (return this.renderForm())
				// if it's false, render the display (return this.renderDisplay())
				return (this.state.editing) ? this.renderForm() : this.renderDisplay();
			}
		});
		ReactDOM.render(
			<Note>Hello World</Note>,
			document.getElementById('container')
		);
	</script>

</body>

</html>
